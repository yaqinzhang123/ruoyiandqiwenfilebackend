(this["webpackJsonpcesium-demo"]=this["webpackJsonpcesium-demo"]||[]).push([[20],{1038:function(e,n,t){},1039:function(e,n,t){},1040:function(e,n,t){},409:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return O}));var i,a=t(49),s=t(50),o=t(10),r=t(123),l=t.n(r),c=t(1030),d=t.n(c),p=t(195),u=t.n(p),h=t(1032),m=t(1033).a.div(i||(i=Object(h.a)(["\nposition:absolute;\nbottom:30px;\nright:5%;\nz-index:3;\n"]))),b=t(52),f=t(51),v=(t(675),t(23)),j=null,w=null,C=(o.Component,t(1036),t(1136)),g=t(71),x=(t(1038),t(1039),window.config,function(e){Object(b.a)(t,e);var n=Object(f.a)(t);function t(e){var i;return Object(a.a)(this,t),(i=n.call(this,e)).RouteChanged=function(e,n){if(e){i.props.viewer.scene.camera,i.props.viewer.scene.canvas;i.props.viewer.dataSources.add(i.props.cesium.GeoJsonDataSource.load("/Data/line.json")).then((function(e){i.kmlxSource=e,i.props.viewer.flyTo(e),e.entities.values.forEach((function(e){e.polyline&&(e.polyline.show=!0,e.polyline.width=4,e.polyline.material=i.props.cesium.Color.fromBytes(10,238,139))}))})),i.props.viewer.dataSources.add(i.props.cesium.GeoJsonDataSource.load("/Data/point.json")).then((function(e){i.kmlpSource=e,e.entities.values.forEach((function(e){if(e.billboard){e.billboard.disableDepthTestDistance=Number.POSITIVE_INFINITY-1,e.billboard.verticalOrigin=i.props.cesium.VerticalOrigin.BOTTOM,e.billboard.distanceDisplayCondition=new i.props.cesium.DistanceDisplayCondition(0,300);var n=e.name.replace("Waypoint","");i.drawCanvas(e.billboard,n)}e.label&&(e.label.show=!1,e.label.disableDepthTestDistance=Number.POSITIVE_INFINITY,e.label.distanceDisplayCondition=new i.props.cesium.DistanceDisplayCondition(0,300),e.label.pixelOffset=new i.props.cesium.Cartesian2(10,-20),e.label.fillColor=i.props.cesium.Color.WHITE,e.label.verticalOrigin=i.props.cesium.VerticalOrigin.BOTTOM,e.label.horizontalOrigin=i.props.cesium.HorizontalOrigin.CENTER,e.label.text="1",e.label.pixelOffset=new i.props.cesium.Cartesian2(0,-5))}))}))}else i.props.viewer.dataSources.removeAll()},i.drawCanvas=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/images/pin.png",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=document.createElement("img");a.src=t,a.width=48,a.height=48,a.onload=function(){var t=document.createElement("canvas"),s=t.getContext("2d");t.width=48,t.height=48,s.drawImage(a,0,0,48,48),s.fillStyle="white",s.font="bold "+i+"px Courier",s.textAlign="center",s.textBaseline="middle",s.fillText(n,24,22),e.image=t}},i.FirstPersonCameraChanged=function(e){e?(i.props.viewer.loadDynamicExtension("FirstPersonCamera",null),u()("#movecontrol").show()):(i.props.viewer.unloadDynamicExtension("FirstPersonCamera"),u()("#movecontrol").hide())},i.checkChange=function(){i.setState({checked:!i.state.checked},(function(){i.props.viewer.modes.FirstPersonCamera&&i.props.viewer.modes.FirstPersonCamera.setGravity(i.state.checked)}))},i.minusSpeed=function(){if(i.state.speed>.1){var e=parseFloat(i.state.speed)-.1;i.setState({speed:e.toFixed(1)},(function(){i.props.viewer.modes.FirstPersonCamera&&i.props.viewer.modes.FirstPersonCamera.setSpeed(i.state.speed)}))}},i.addSpeed=function(){var e=parseFloat(i.state.speed)+.1;i.setState({speed:e.toFixed(1)},(function(){i.props.viewer.modes.FirstPersonCamera&&i.props.viewer.modes.FirstPersonCamera.setSpeed(i.state.speed)}))},i.MonitorChanged=i.MonitorChanged.bind(Object(g.a)(i)),i.RouteChanged=i.RouteChanged.bind(Object(g.a)(i)),i.ShortestPathChanged=i.ShortestPathChanged.bind(Object(g.a)(i)),i.state={checked:!1,speed:.1},i.kmlxSource=null,i.kmlpSource=null,i}return Object(s.a)(t,[{key:"componentDidMount",value:function(){u()("#movecontrol").hide()}},{key:"MonitorChanged",value:function(e,n){e?this.props.viewer.loadDynamicExtension("DigitalTwin",null):this.props.viewer.unloadDynamicExtension("DigitalTwin")}},{key:"ShortestPathChanged",value:function(e){e?this.props.viewer.loadDynamicExtension("ShortestPath",null):this.props.viewer.unloadDynamicExtension("ShortestPath")}},{key:"render",value:function(){return Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)("div",{className:" bf-panel bf-walk-panel bf-walkthrough-panel bf-pinned panel-style",id:"movecontrol",children:Object(v.jsx)("div",{className:"bf-panel-body",id:"movecontrol",children:Object(v.jsx)("div",{className:"bf-panel-container bf-scroll-bar",children:Object(v.jsxs)("div",{className:"bf-person",children:[Object(v.jsxs)("div",{className:"bf-walk-speed",children:[Object(v.jsx)("span",{className:"bf-walk-name",children:"\u79fb\u52a8\u901f\u5ea6\uff1a"}),Object(v.jsx)("span",{className:"gld-bf-minus speedBtn",onClick:this.minusSpeed}),Object(v.jsxs)("span",{className:"speedNum",children:[this.state.speed,"X"]}),Object(v.jsx)("span",{className:"gld-bf-add speedBtn",onClick:this.addSpeed})]}),Object(v.jsxs)("label",{class:"bf-checkbox bf-walk-label",children:[Object(v.jsx)("input",{type:"checkbox",class:"bf-checkbox-input bf-walk-gravity",onChange:this.checkChange,name:"gravity"}),Object(v.jsx)("span",{class:"bf-checkbox-display"}),Object(v.jsx)("span",{class:"bf-checkbox-value",children:"\u91cd\u529b"})]})]})})})}),Object(v.jsx)(C.a,{className:"first-viwer-btn",onChange:this.FirstPersonCameraChanged,checkedChildren:"\u7b2c\u4e00\u89c6\u89d2\u5f00",unCheckedChildren:"\u7b2c\u4e00\u89c6\u89d2\u5173"})]})}}]),t}(o.Component)),O=(t(1040),function(){function e(n,t,i){Object(a.a)(this,e),this.viewer=n,this.cesium=t}return Object(s.a)(e,[{key:"GetHtml",value:function(){return d.a.renderToStaticMarkup(Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)("div",{id:"effectContainer"}),Object(v.jsx)(m,{id:"bottomId"})]}))}},{key:"load",value:function(){var e=u()("#root")[0];return u()(e).append(this.GetHtml()),l.a.render(Object(v.jsx)(x,{viewer:this.viewer,cesium:this.cesium}),document.getElementById("bottomId")),!0}}]),e}())},675:function(e,n,t){(function(e){e.Value={Viewer:null,Cesium:null}}).call(this,t(24))}}]);