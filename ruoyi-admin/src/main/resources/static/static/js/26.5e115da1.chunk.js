(this["webpackJsonpcesium-demo"]=this["webpackJsonpcesium-demo"]||[]).push([[26],{408:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return O}));var i,n=r(49),a=r(50),o=r(52),s=r(51),l=52.35987755982988,c=3.141592653589793,u=6378245,h=.006693421622965943,g=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"BD09ToGCJ02",value:function(e,t){var r=+e-.0065,i=+t-.006,n=Math.sqrt(r*r+i*i)-2e-5*Math.sin(i*l),a=Math.atan2(i,r)-3e-6*Math.cos(r*l);return[n*Math.cos(a),n*Math.sin(a)]}},{key:"GCJ02ToBD09",value:function(e,t){t=+t,e=+e;var r=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*l),i=Math.atan2(t,e)+3e-6*Math.cos(e*l);return[r*Math.cos(i)+.0065,r*Math.sin(i)+.006]}},{key:"WGS84ToGCJ02",value:function(e,t){if(t=+t,e=+e,this.out_of_china(e,t))return[e,t];var r=this.delta(e,t);return[e+r[0],t+r[1]]}},{key:"GCJ02ToWGS84",value:function(e,t){if(t=+t,e=+e,this.out_of_china(e,t))return[e,t];var r=this.delta(e,t);return[2*e-(e+r[0]),2*t-(t+r[1])]}},{key:"delta",value:function(e,t){var r=this.transformLng(e-105,t-35),i=this.transformLat(e-105,t-35),n=t/180*c,a=Math.sin(n);a=1-h*a*a;var o=Math.sqrt(a);return[r=180*r/(u/o*Math.cos(n)*c),i=180*i/(u*(1-h)/(a*o)*c)]}},{key:"transformLng",value:function(e,t){var r=300+(e=+e)+2*(t=+t)+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*c)+20*Math.sin(2*e*c))/3,r+=2*(20*Math.sin(e*c)+40*Math.sin(e/3*c))/3,r+=2*(150*Math.sin(e/12*c)+300*Math.sin(e/30*c))/3}},{key:"transformLat",value:function(e,t){var r=2*(e=+e)-100+3*(t=+t)+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*c)+20*Math.sin(2*e*c))/3,r+=2*(20*Math.sin(t*c)+40*Math.sin(t/3*c))/3,r+=2*(160*Math.sin(t/12*c)+320*Math.sin(t*c/30))/3}},{key:"out_of_china",value:function(e,t){return t=+t,!((e=+e)>73.66&&e<135.05&&t>3.86&&t<53.55)}}]),e}(),d=window.Cesium,m=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var i;Object(n.a)(this,r),i=t.call(this,e);var a=new d.WebMercatorProjection;return i._projection.project=function(e,t){return t=g.WGS84ToGCJ02(d.Math.toDegrees(e.longitude),d.Math.toDegrees(e.latitude)),t=a.project(new d.Cartographic(d.Math.toRadians(t[0]),d.Math.toRadians(t[1]))),new d.Cartesian2(t.x,t.y)},i._projection.unproject=function(e,t){var r=a.unproject(e);return t=g.GCJ02ToWGS84(d.Math.toDegrees(r.longitude),d.Math.toDegrees(r.latitude)),new d.Cartographic(d.Math.toRadians(t[0]),d.Math.toRadians(t[1]))},i}return r}(window.Cesium.WebMercatorTilingScheme),v="https://webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",f="https://webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",y=(window.Cesium,function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.a)(this,r),e.url="img"===e.style?v:f,e.subdomains&&e.subdomains.length||(e.subdomains=["01","02","03","04"]),"WGS84"===e.crs&&(e.tilingScheme=new m),t.call(this,e)}return r}(window.Cesium.UrlTemplateImageryProvider)),M=window.Cesium,p="https://t{s}.tianditu.gov.cn/DataServer?T={style}_w&x={x}&y={y}&l={z}&tk={key}",w=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.a)(this,r),t.call(this,{url:p.replace(/\{style\}/g,e.style||"vec").replace(/\{key\}/g,e.key||""),subdomains:["0","1","2","3","4","5","6","7"],tilingScheme:new M.WebMercatorTilingScheme,maximumLevel:18})}return r}(M.UrlTemplateImageryProvider),b=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],k=[75,60,45,30,15,0],L=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],x=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],S=function(){function e(){Object(n.a)(this,e),this.isWgs84=!1}return Object(a.a)(e,[{key:"getDistanceByMC",value:function(e,t){if(!e||!t)return 0;if(!(e=this.convertMC2LL(e)))return 0;var r=this.toRadians(e.lng),i=this.toRadians(e.lat);if(!(t=this.convertMC2LL(t)))return 0;var n=this.toRadians(t.lng),a=this.toRadians(t.lat);return this.getDistance(r,n,i,a)}},{key:"getDistanceByLL",value:function(e,t){if(!e||!t)return 0;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74);var r=this.toRadians(e.lng),i=this.toRadians(e.lat),n=this.toRadians(t.lng),a=this.toRadians(t.lat);return this.getDistance(r,n,i,a)}},{key:"convertMC2LL",value:function(e){if(!e)return{lng:0,lat:0};var t={};if(this.isWgs84){t.lng=e.lng/20037508.34*180;var r=e.lat/20037508.34*180;return t.lat=180/Math.PI*(2*Math.atan(Math.exp(r*Math.PI/180))-Math.PI/2),{lng:t.lng.toFixed(6),lat:t.lat.toFixed(6)}}Math.abs(e.lng);for(var i=Math.abs(e.lat),n=void 0,a=0;a<b.length;a++)if(i>=b[a]){n=L[a];break}return{lng:(t=this.convertor(e,n)).lng.toFixed(6),lat:t.lat.toFixed(6)}}},{key:"convertLL2MC",value:function(e){if(!e)return{lng:0,lat:0};if(e.lng>180||e.lng<-180||e.lat>90||e.lat<-90)return e;if(this.isWgs84){var t={},r=6378137;t.lng=e.lng*Math.PI/180*r;var i=e.lat*Math.PI/180;return t.lat=3189068.5*Math.log((1+Math.sin(i))/(1-Math.sin(i))),{lng:parseFloat(t.lng.toFixed(2)),lat:parseFloat(t.lat.toFixed(2))}}e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);e.lng;for(var n=e.lat,a=void 0,o=0;o<k.length;o++)if(n>=k[o]){a=x[o];break}if(!a)for(var s=0;s<k.length;s++)if(n<=-k[s]){a=x[s];break}var l=this.convertor(e,a);return{lng:parseFloat(l.lng.toFixed(2)),lat:parseFloat(l.lat.toFixed(2))}}},{key:"convertor",value:function(e,t){if(!e||!t)return{lng:0,lat:0};var r=t[0]+t[1]*Math.abs(e.lng),i=Math.abs(e.lat)/t[9],n=t[2]+t[3]*i+t[4]*i*i+t[5]*i*i*i+t[6]*i*i*i*i+t[7]*i*i*i*i*i+t[8]*i*i*i*i*i*i;return{lng:r*=e.lng<0?-1:1,lat:n*=e.lat<0?-1:1}}},{key:"getDistance",value:function(e,t,r,i){return 6370996.81*Math.acos(Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos(t-e))}},{key:"toRadians",value:function(e){return Math.PI*e/180}},{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"getRange",value:function(e,t,r){return null!=t&&(e=Math.max(e,t)),null!=r&&(e=Math.min(e,r)),e}},{key:"getLoop",value:function(e,t,r){for(;e>r;)e-=r-t;for(;e<t;)e+=r-t;return e}},{key:"lngLatToMercator",value:function(e){return this.convertLL2MC(e)}},{key:"lngLatToPoint",value:function(e){var t=this.convertLL2MC(e);return{x:t.lng,y:t.lat}}},{key:"mercatorToLngLat",value:function(e){return this.convertMC2LL(e)}},{key:"pointToLngLat",value:function(e){var t={lng:e.x,lat:e.y};return this.convertMC2LL(t)}},{key:"pointToPixel",value:function(e,t,r,i){if(e){e=this.lngLatToMercator(e);var n=this.getZoomUnits(t);return{x:Math.round((e.lng-r.lng)/n+i.width/2),y:Math.round((r.lat-e.lat)/n+i.height/2)}}}},{key:"pixelToPoint",value:function(e,t,r,i){if(e){var n=this.getZoomUnits(t),a={lng:r.lng+n*(e.x-i.width/2),lat:r.lat-n*(e.y-i.height/2)};return this.mercatorToLngLat(a)}}},{key:"getZoomUnits",value:function(e){return Math.pow(2,18-e)}}]),e}(),C=window.Cesium,P=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(e){var i;Object(n.a)(this,r),i=t.call(this,e);var a=new S;return i._projection.project=function(e,t){return t=t||{},t=g.WGS84ToGCJ02(C.Math.toDegrees(e.longitude),C.Math.toDegrees(e.latitude)),(t=g.GCJ02ToBD09(t[0],t[1]))[0]=Math.min(t[0],180),t[0]=Math.max(t[0],-180),t[1]=Math.min(t[1],74.000022),t[1]=Math.max(t[1],-71.988531),t=a.lngLatToPoint({lng:t[0],lat:t[1]}),new C.Cartesian2(t.x,t.y)},i._projection.unproject=function(e,t){return t=t||{},t=a.mercatorToLngLat({lng:e.x,lat:e.y}),t=g.BD09ToGCJ02(t.lng,t.lat),t=g.GCJ02ToWGS84(t[0],t[1]),new C.Cartographic(C.Math.toRadians(t[0]),C.Math.toRadians(t[1]))},i.resolutions=e.resolutions||[],i}return Object(a.a)(r,[{key:"tileXYToNativeRectangle",value:function(e,t,r,i){var n=this.resolutions[r],a=e*n,o=(e+1)*n,s=(1+(t=-t))*n,l=t*n;return C.defined(i)?(i.west=a,i.south=l,i.east=o,i.north=s,i):new C.Rectangle(a,l,o,s)}},{key:"positionToTileXY",value:function(e,t,r){var i=this._rectangle;if(C.Rectangle.contains(i,e)){var n=this._projection.project(e);if(C.defined(n)){var a=this.resolutions[t],o=Math.floor(n.x/a),s=-Math.floor(n.y/a);return C.defined(r)?(r.x=o,r.y=s,r):new C.Cartesian2(o,s)}}}}]),r}(window.Cesium.WebMercatorTilingScheme),_="http://shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",T="http://online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020",j="http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}",W=window.Cesium,D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(n.a)(this,e),this._url="img"===t.style?_:"vec"===t.style?T:j,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._crs=t.crs||"BD09","WGS84"===t.crs){for(var r=[],i=0;i<19;i++)r[i]=256*Math.pow(2,18-i);this._tilingScheme=new P({resolutions:r,rectangleSouthwestInMeters:new W.Cartesian2(-20037726.37,-12474104.17),rectangleNortheastInMeters:new W.Cartesian2(20037726.37,12474104.17)})}else this._tilingScheme=new W.WebMercatorTilingScheme({rectangleSouthwestInMeters:new W.Cartesian2(-33554054,-33746824),rectangleNortheastInMeters:new W.Cartesian2(33554054,33746824)});this._rectangle=this._tilingScheme.rectangle,this._credit=void 0,this._style=t.style||"normal"}return Object(a.a)(e,[{key:"url",get:function(){return this._url}},{key:"token",get:function(){return this._token}},{key:"tileWidth",get:function(){if(!this.ready)throw new W.DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},{key:"tileHeight",get:function(){if(!this.ready)throw new W.DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},{key:"maximumLevel",get:function(){if(!this.ready)throw new W.DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},{key:"minimumLevel",get:function(){if(!this.ready)throw new W.DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 0}},{key:"tilingScheme",get:function(){if(!this.ready)throw new W.DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},{key:"rectangle",get:function(){if(!this.ready)throw new W.DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},{key:"ready",get:function(){return!!this._url}},{key:"credit",get:function(){return this._credit}},{key:"hasAlphaChannel",get:function(){return!0}},{key:"getTileCredits",value:function(e,t,r){}},{key:"requestImage",value:function(e,t,r){if(!this.ready)throw new W.DeveloperError("requestImage must not be called before the imagery provider is ready.");var i=this._tilingScheme.getNumberOfXTilesAtLevel(r),n=this._tilingScheme.getNumberOfYTilesAtLevel(r),a=this._url.replace("{z}",r).replace("{s}",String(1)).replace("{style}",this._style);return a="WGS84"===this._crs?a.replace("{x}",String(e)).replace("{y}",String(-t)):a.replace("{x}",String(e-i/2)).replace("{y}",String(n/2-t-1)),W.ImageryProvider.loadImage(this,a)}}]),e}(),G=r(195),I=r.n(G),O=function(){function e(t,r,a){Object(n.a)(this,e),this.viewer=t,i=r}return Object(a.a)(e,[{key:"load",value:function(){var e=[],t=new w({style:"img",key:"5caed72bd34d1f3eaaaabb86e3ebab65",minimumLevel:3,maximumLevel:18});e.push(new i.ProviderViewModel({name:"\u5929\u5730\u56fe\u536b\u661f",tooltip:"\u5929\u5730\u56fe\u536b\u661f",iconUrl:"./images/Aerial.png",creationFunction:function(){return t}}));var r=new y({style:"img",crs:"WGS84",minimumLevel:3,maximumLevel:18});e.push(new i.ProviderViewModel({name:"\u9ad8\u5fb7\u536b\u661f",tooltip:"\u9ad8\u5fb7\u536b\u661f",iconUrl:"./images/gdimg.png",creationFunction:function(){return r}}));var n=new y({style:"vec",crs:"WGS84",minimumLevel:3,maximumLevel:18});e.push(new i.ProviderViewModel({name:"\u9ad8\u5fb7\u8857\u9053",tooltip:"\u9ad8\u5fb7\u8857\u9053",iconUrl:"./images/jd.png",creationFunction:function(){return n}}));var a=new D({style:"img",crs:"WGS84"});e.push(new i.ProviderViewModel({name:"\u767e\u5ea6\u536b\u661f",tooltip:"\u767e\u5ea6\u536b\u661f",iconUrl:"./images/gdimg.png",creationFunction:function(){return a}}));var o=new D({style:"vec",crs:"WGS84"});e.push(new i.ProviderViewModel({name:"\u767e\u5ea6\u8857\u9053",tooltip:"\u767e\u5ea6\u8857\u9053",iconUrl:"./images/jd.png",creationFunction:function(){return o}}));var s=new i.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",enablePickFeatures:!1}),l=new i.ProviderViewModel({name:"\u4e16\u754c\u5730\u56fe",iconUrl:i.buildModuleUrl("./Widgets/Images/ImageryProviders/esriWorldImagery.png"),tooltip:"ArcGIS \u5730\u56fe\u670d\u52a1 \nhttps://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",creationFunction:function(){return s}});e.push(l);var c=i.createDefaultTerrainProviderViewModels(),u=new i.CesiumTerrainProvider({url:"https://lab.earthsdk.com/terrain/577fd5b0ac1f11e99dbd8fd044883638"});return c.push(new i.ProviderViewModel({name:"\u56fd\u5185\u5730\u5f62",tooltip:"\u56fd\u5185\u5730\u5f62",category:"Cesium ion",iconUrl:"./images/lab.png",creationFunction:function(){return u}})),c[0].name="\u692d\u7403\u9ad8",c[0].tooltip="WGS84\u6807\u51c6\u692d\u7403\u9ad8",c[1].name="\u4e16\u754c\u5730\u5f62",c[1].tooltip="\u4e16\u754c\u5730\u5f62",this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels=e,this.viewer.baseLayerPicker.viewModel.terrainProviderViewModels=c,this.viewer.baseLayerPicker.viewModel.selectedImagery=this.viewer.baseLayerPicker.viewModel.imageryProviderViewModels[5],this.viewer.baseLayerPicker.viewModel.selectedTerrain=c[1],I()(".cesium-baseLayerPicker-dropDown").find(".cesium-baseLayerPicker-sectionTitle").eq(0).html("\u5f71\u50cf"),I()(".cesium-baseLayerPicker-dropDown").find(".cesium-baseLayerPicker-sectionTitle").eq(1).html("\u5730\u5f62"),I()(".cesium-baseLayerPicker-dropDown").find(".cesium-baseLayerPicker-categoryTitle").eq(1).html(""),!0}}]),e}()}}]);