(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-system-setting-user-add"],{"09d6":function(e,r,t){"use strict";t.r(r);var a=t("9fc3"),n=t("4128");for(var i in n)"default"!==i&&function(e){t.d(r,e,(function(){return n[e]}))}(i);t("27c4");var s,u=t("f0c5"),o=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"76479754",null,!1,a["a"],s);r["default"]=o.exports},"15df":function(e,r,t){"use strict";t("caad"),t("2532"),Object.defineProperty(r,"__esModule",{value:!0}),r.getValidator=i;var a={userName:{rules:[{required:!0},{format:"string"}],label:"姓名"},userIdnum:{rules:[{required:!0},{format:"string"},{minLength:18,maxLength:18,errorMessage:"身份证号为18位"}],label:"身份证号"},userEmail:{rules:[{required:!0,errorMessage:"请输入邮箱地址"},{format:"email",errorMessage:"请输入正确的邮箱地址"}]},userPwd:{rules:[{required:!0,errorMessage:"请输入密码"},{format:"string"},{minLength:8,errorMessage:"最少8个字符"}]}},n={userName:{rules:[{required:!0},{format:"string"}],label:"姓名"},userIdnum:{rules:[{required:!0},{format:"string"},{minLength:18,maxLength:18,errorMessage:"身份证号为18位"}],label:"身份证号"},userEmail:{rules:[{required:!0,errorMessage:"请输入邮箱地址"},{format:"email",errorMessage:"请输入正确的邮箱地址"}]},userPwd:{rules:[{format:"string"},{minLength:8,errorMessage:"为空或最少8个字符"}]}};function i(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A",t={};if("A"==r)for(var i in a)e.includes(i)&&(t[i]=a[i]);else if("M"==r)for(var s in n)t[s]=n[s];return t}},"27c4":function(e,r,t){"use strict";var a=t("edeb"),n=t.n(a);n.a},"27f5":function(e,r,t){"use strict";var a=t("4ea4");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(t("ef47")),i={getPermissionList:function(){return(0,n.default)({url:"/permissionDO/v1/sys/queryAllPermission",method:"GET"})}};r.default=i},4128:function(e,r,t){"use strict";t.r(r);var a=t("88d6"),n=t.n(a);for(var i in a)"default"!==i&&function(e){t.d(r,e,(function(){return a[e]}))}(i);r["default"]=n.a},"46c2":function(e,r,t){var a=t("24fb");r=a(!1),r.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.cbox[data-v-76479754]{margin-left:20px}.uni-app--showleftwindow .uni-container .uni-forms[data-v-76479754]{width:80%;max-width:800px}.uni-title[data-v-76479754]{padding:5px;margin-bottom:10px;font-weight:700;color:grey}.spliter[data-v-76479754]{width:100%;height:1px;background-color:#d3d3d3;margin-bottom:10px}',""]),e.exports=r},"88d6":function(e,r,t){"use strict";var a=t("4ea4");t("b64b"),t("d3b7"),t("e25e"),t("25f0"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(t("5530")),i=t("15df"),s=a(t("542f")),u=a(t("27f5")),o={data:function(){var e={permissionids:[],userEmail:"",userId:0,userIdnum:"",userName:"",userPwd:""};return{permissionArray:[],curArray:[],formData:e,rules:(0,n.default)({},(0,i.getValidator)(Object.keys(e)))}},onLoad:function(){this.getPermissionArray()},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{getPermissionArray:function(){var e=this;u.default.getPermissionList().then((function(r){if(200==r.code&&r.data){for(var t=r.data,a=0;a<t.length;a++)e.permissionArray.push({name:t[a].permissionName,value:t[a].permissionId.toString()});e.selJob=""}}))},checkboxChange:function(e){this.curArray=e.detail.value},submitForm:function(){this.$refs.form.submit()},submit:function(e){var r=this,t=e.detail,a=(t.value,t.errors);if(!a){if(uni.showLoading({title:"提交中...",mask:!0}),this.formData.permissionids=[],this.curArray.length>0)for(var n=0;n<this.curArray.length;n++)this.formData.permissionids.push(parseInt(this.curArray[n]));s.default.addUser(this.formData).then((function(e){200==e.code&&"SUCCESS"==e.data&&(r.getOpenerEventChannel().emit("refreshData"),uni.navigateBack()),uni.hideLoading()})).catch((function(e){uni.hideLoading()}))}}}};r.default=o},"9fc3":function(e,r,t){"use strict";t.d(r,"b",(function(){return n})),t.d(r,"c",(function(){return i})),t.d(r,"a",(function(){return a}));var a={uniForms:t("3a5d").default,uniRow:t("e014").default,uniCol:t("9654").default,uniFormsItem:t("700d").default},n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-uni-view",{staticClass:"uni-container"},[t("uni-forms",{ref:"form",attrs:{validateTrigger:"bind"},on:{submit:function(r){arguments[0]=r=e.$handleEvent(r),e.submit.apply(void 0,arguments)}},model:{value:e.formData,callback:function(r){e.formData=r},expression:"formData"}},[t("uni-row",[t("uni-col",{attrs:{span:12}},[t("uni-forms-item",{attrs:{name:"userName",label:"姓名",required:!0}},[t("v-uni-input",{staticClass:"uni-search",attrs:{type:"text",placeholder:"姓名"},model:{value:e.formData.userName,callback:function(r){e.$set(e.formData,"userName",r)},expression:"formData.userName"}})],1)],1)],1),t("uni-row",[t("uni-col",{attrs:{span:12}},[t("uni-forms-item",{attrs:{name:"userIdnum",label:"身份证号",required:!0}},[t("v-uni-input",{staticClass:"uni-search",attrs:{type:"text",placeholder:"身份证号"},model:{value:e.formData.userIdnum,callback:function(r){e.$set(e.formData,"userIdnum",r)},expression:"formData.userIdnum"}})],1)],1)],1),t("uni-row",[t("uni-col",{attrs:{span:12}},[t("uni-forms-item",{attrs:{name:"userEmail",label:"邮箱",required:!0}},[t("v-uni-input",{staticClass:"uni-search",attrs:{type:"text",placeholder:"邮箱"},model:{value:e.formData.userEmail,callback:function(r){e.$set(e.formData,"userEmail",r)},expression:"formData.userEmail"}})],1)],1)],1),t("uni-row",[t("uni-col",{attrs:{span:12}},[t("uni-forms-item",{attrs:{name:"userPwd",label:"密码",required:!0}},[t("v-uni-input",{staticClass:"uni-search",attrs:{password:!0,type:"text",placeholder:"密码"},model:{value:e.formData.userPwd,callback:function(r){e.$set(e.formData,"userPwd",r)},expression:"formData.userPwd"}})],1)],1)],1),t("v-uni-view",{staticClass:"spliter"}),t("v-uni-view",{staticClass:"uni-title"},[t("v-uni-text",[e._v("TA的权限")])],1),t("uni-row",[t("uni-col",{attrs:{span:24}},[t("uni-forms-item",{attrs:{name:""}},[t("v-uni-checkbox-group",{on:{change:function(r){arguments[0]=r=e.$handleEvent(r),e.checkboxChange.apply(void 0,arguments)}}},e._l(e.permissionArray,(function(r){return t("v-uni-label",{key:r.value,staticClass:"cbox"},[t("v-uni-checkbox",{attrs:{value:r.value,checked:e.curArray.indexOf(r.value)>-1}}),t("v-uni-text",[e._v(e._s(r.name))])],1)})),1)],1)],1)],1),t("v-uni-view",{staticClass:"uni-button-group"},[t("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.submitForm.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)],1)},i=[]},edeb:function(e,r,t){var a=t("46c2");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=t("4f06").default;n("1011f138",a,!0,{sourceMap:!1,shadowMode:!1})}}]);